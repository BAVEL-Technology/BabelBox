var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e){return null==e?"":e}function l(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function i(e){e.parentNode.removeChild(e)}function u(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function p(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function f(e){return document.createTextNode(e)}function g(){return f(" ")}function m(){return f("")}function h(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function w(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}let x;function b(e){x=e}function v(e){(function(){if(!x)throw new Error("Function called outside component initialization");return x})().$$.on_mount.push(e)}const $=[],k=[],C=[],j=[],L=Promise.resolve();let T=!1;function U(e){C.push(e)}function D(e){j.push(e)}let M=!1;const S=new Set;function _(){if(!M){M=!0;do{for(let e=0;e<$.length;e+=1){const t=$[e];b(t),N(t.$$)}for(b(null),$.length=0;k.length;)k.pop()();for(let e=0;e<C.length;e+=1){const t=C[e];S.has(t)||(S.add(t),t())}C.length=0}while($.length);for(;j.length;)j.pop()();T=!1,M=!1,S.clear()}}function N(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(U)}}const A=new Set;let B;function z(){B={r:0,c:[],p:B}}function E(){B.r||r(B.c),B=B.p}function O(e,t){e&&e.i&&(A.delete(e),e.i(t))}function H(e,t,n,r){if(e&&e.o){if(A.has(e))return;A.add(e),B.c.push((()=>{A.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function F(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function P(e){e&&e.c()}function J(e,n,a){const{fragment:s,on_mount:l,on_destroy:c,after_update:i}=e.$$;s&&s.m(n,a),U((()=>{const n=l.map(t).filter(o);c?c.push(...n):r(n),e.$$.on_mount=[]})),i.forEach(U)}function q(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function I(e,t){-1===e.$$.dirty[0]&&($.push(e),T||(T=!0,L.then(_)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function V(t,o,a,s,l,c,u=[-1]){const d=x;b(t);const p=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:u,skip_bound:!1};let f=!1;if(p.ctx=a?a(t,o.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&l(p.ctx[e],p.ctx[e]=o)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](o),f&&I(t,e)),n})):[],p.update(),f=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);p.fragment&&p.fragment.l(e),e.forEach(i)}else p.fragment&&p.fragment.c();o.intro&&O(t.$$.fragment),J(t,o.target,o.anchor),_()}b(d)}class G{$destroy(){q(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Z(e,t,n){const r=e.slice();return r[16]=t[n],r}function Y(e){let t,n,r,o,a=e[16].name[0].toUpperCase()+e[16].name.substring(1)+"",s=e[16].name==e[1]&&e[16].owner==e[2].username&&Q(e);return{c(){t=d("span"),n=f(a),r=g(),s&&s.c(),o=m(),w(t,"class","truncate")},m(e,a){c(e,t,a),l(t,n),c(e,r,a),s&&s.m(e,a),c(e,o,a)},p(e,t){1&t&&a!==(a=e[16].name[0].toUpperCase()+e[16].name.substring(1)+"")&&y(n,a),e[16].name==e[1]&&e[16].owner==e[2].username?s?s.p(e,t):(s=Q(e),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(e){e&&i(t),e&&i(r),s&&s.d(e),e&&i(o)}}}function K(e){let t,n,r,o,a,s,u,f;function m(){return e[12](e[16])}return{c(){t=d("input"),o=g(),a=p("svg"),s=p("path"),w(t,"class","apperance-none focus:outline-none w-auto bg-green-600 border-none"),t.value=n=e[16].name[0].toUpperCase()+e[16].name.substring(1),w(t,"id",r=e[16].name.replace(/ /g,"-")),w(s,"stroke-linecap","round"),w(s,"stroke-linejoin","round"),w(s,"stroke-width","2"),w(s,"d","M5 13l4 4L19 7"),w(a,"class","h-3 w-3 text-green-200 ml-2"),w(a,"xmlns","http://www.w3.org/2000/svg"),w(a,"fill","none"),w(a,"viewBox","0 0 24 24"),w(a,"stroke","currentColor")},m(e,n){c(e,t,n),c(e,o,n),c(e,a,n),l(a,s),u||(f=h(a,"click",m),u=!0)},p(o,a){e=o,1&a&&n!==(n=e[16].name[0].toUpperCase()+e[16].name.substring(1))&&t.value!==n&&(t.value=n),1&a&&r!==(r=e[16].name.replace(/ /g,"-"))&&w(t,"id",r)},d(e){e&&i(t),e&&i(o),e&&i(a),u=!1,f()}}}function Q(e){let t,n,o,a,s,u,f,m;function y(){return e[13](e[16])}function x(){return e[14](e[16])}return{c(){t=d("div"),n=p("svg"),o=p("path"),a=g(),s=p("svg"),u=p("path"),w(o,"stroke-linecap","round"),w(o,"stroke-linejoin","round"),w(o,"stroke-width","2"),w(o,"d","M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"),w(n,"class","h-3 w-3 text-green-200 ml-2"),w(n,"xmlns","http://www.w3.org/2000/svg"),w(n,"fill","none"),w(n,"viewBox","0 0 24 24"),w(n,"stroke","currentColor"),w(u,"stroke-linecap","round"),w(u,"stroke-linejoin","round"),w(u,"stroke-width","2"),w(u,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),w(s,"class","h-3 w-3 text-green-200 ml-2"),w(s,"xmlns","http://www.w3.org/2000/svg"),w(s,"fill","none"),w(s,"viewBox","0 0 24 24"),w(s,"stroke","currentColor"),w(t,"class","flex items-center")},m(e,r){c(e,t,r),l(t,n),l(n,o),l(t,a),l(t,s),l(s,u),f||(m=[h(n,"click",y),h(s,"click",x)],f=!0)},p(t,n){e=t},d(e){e&&i(t),f=!1,r(m)}}}function R(e){let t,n,r,o,a,u,p,m=e[16].owner[0].toUpperCase()+"";function x(e,t){return e[3]==e[16].name?K:Y}let b=x(e),v=b(e);function $(){return e[15](e[16])}return{c(){t=d("li"),n=d("div"),r=f(m),o=g(),v.c(),w(n,"class","h-3 w-3 rounded-full bg-green-200 flex items-center justify-center text-green-600 text-xs p-2 mr-2"),w(t,"class",a=s(`w-auto border-r border-l border-t border-green-600 flex w-48 items-center justify-between py-1 px-2 rounded-tl-lg rounded-tr-lg text-sm font-medium bg-green-600 text-green-100 transform ${e[16].name==e[1]?"scale-125 z-20":"-ml-1"} origin-bottom shadow-lg cursor-pointer`)+" svelte-70ag7j")},m(e,a){c(e,t,a),l(t,n),l(n,r),l(t,o),v.m(t,null),u||(p=h(t,"click",$),u=!0)},p(n,o){e=n,1&o&&m!==(m=e[16].owner[0].toUpperCase()+"")&&y(r,m),b===(b=x(e))&&v?v.p(e,o):(v.d(1),v=b(e),v&&(v.c(),v.m(t,null))),3&o&&a!==(a=s(`w-auto border-r border-l border-t border-green-600 flex w-48 items-center justify-between py-1 px-2 rounded-tl-lg rounded-tr-lg text-sm font-medium bg-green-600 text-green-100 transform ${e[16].name==e[1]?"scale-125 z-20":"-ml-1"} origin-bottom shadow-lg cursor-pointer`)+" svelte-70ag7j")&&w(t,"class",a)},d(e){e&&i(t),v.d(),u=!1,p()}}}function W(t){let n,r,o,a,s,p,m,x,b,v,$,k,C,j=(t[2]?t[2].username[0].toUpperCase():"")+"",L=t[0],T=[];for(let e=0;e<L.length;e+=1)T[e]=R(Z(t,L,e));return{c(){n=d("div"),r=d("div"),o=d("p"),o.textContent="Babel Database",a=g(),s=d("div"),p=f(j),m=g(),x=d("div"),b=d("ul");for(let e=0;e<T.length;e+=1)T[e].c();v=g(),$=d("li"),$.innerHTML='<span class="bg-green-600 flex items-center justify-center p-1 rounded-md mr-2"><svg class="h-3 w-3 text-green-200" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></span> \n        <span class="text-sm font-semibold text-green-600 truncate">Add Table</span>',w(o,"class","ml-8 mt-4 text-lg font-semibold text-green-600"),w(s,"class","self-end h-8 w-8 rounded-full bg-green-600 flex items-center justify-center text-green-200 text-lg p-2 mr-8 mt-4"),w(r,"class","flex w-full items-center justify-between"),w($,"class","flex items-center cursor-pointer ml-12"),w(b,"class","flex items-center px-4"),w(x,"class","px-20 pt-12"),w(n,"class","example flex flex-col bg-green-200 border-b-4 border-green-600 w-screen overflow-x-scroll svelte-70ag7j")},m(e,i){c(e,n,i),l(n,r),l(r,o),l(r,a),l(r,s),l(s,p),l(n,m),l(n,x),l(x,b);for(let e=0;e<T.length;e+=1)T[e].m(b,null);l(b,v),l(b,$),k||(C=h($,"click",t[4]),k=!0)},p(e,[t]){if(4&t&&j!==(j=(e[2]?e[2].username[0].toUpperCase():"")+"")&&y(p,j),495&t){let n;for(L=e[0],n=0;n<L.length;n+=1){const r=Z(e,L,n);T[n]?T[n].p(r,t):(T[n]=R(r),T[n].c(),T[n].m(b,v))}for(;n<T.length;n+=1)T[n].d(1);T.length=L.length}},i:e,o:e,d(e){e&&i(n),u(T,e),k=!1,C()}}}function X(e,t,n){let r,{dataTables:o}=t,{activeTable:a}=t,{headers:s}=t,{fetchData:l}=t,{displayedData:c}=t,{currentUser:i}=t;const u=async()=>{const e="Table "+Math.floor(Math.random()*Math.floor(100));let t=await fetch("/api/database",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,owner:i.username})});"duplicate"==(await t.json()).status&&u();const s=await fetch("api/database");let l=await s.json();n(1,a=e.toLowerCase()),n(3,r=e.toLowerCase()),n(0,o=l)},d=async e=>{n(1,a=e.replace(/-/g," "));const t=await l(e);let r=await t.json();n(10,c=r);let i=o.filter((t=>t.name==e.replace(/-/g," ")))[0];i?(n(9,s=i.props),n(9,s=s.map((e=>(e.owner=i.owner,e))))):n(9,s=[]),console.log(e),console.log(c),console.log(i),console.log(s)},p=e=>{n(3,r=e)},f=async e=>{try{let t=document.querySelector(`#${e}`).value,s=await fetch(`/api/database/${e}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:t})});const l=await fetch("api/database");let c=await l.json(),i=await s.json();console.log(i),n(3,r=""),n(0,o=c),n(1,a=t.toLowerCase())}catch(e){console.log(e)}},g=async e=>{try{await fetch(`/api/database/${e}`,{method:"DELETE"});const t=await fetch("api/database");let s=await t.json();n(3,r=""),n(0,o=s),n(1,a=o[0].name);const i=await l(a);s=await i.json(),n(10,c=s)}catch(e){console.log(e)}};return e.$$set=e=>{"dataTables"in e&&n(0,o=e.dataTables),"activeTable"in e&&n(1,a=e.activeTable),"headers"in e&&n(9,s=e.headers),"fetchData"in e&&n(11,l=e.fetchData),"displayedData"in e&&n(10,c=e.displayedData),"currentUser"in e&&n(2,i=e.currentUser)},[o,a,i,r,u,d,p,f,g,s,c,l,e=>f(e.name.replace(/ /g,"-")),e=>p(e.name),e=>g(e.name.replace(/ /g,"-")),e=>d(e.name.replace(/ /g,"-"))]}class ee extends G{constructor(e){super(),V(this,e,X,W,a,{dataTables:0,activeTable:1,headers:9,fetchData:11,displayedData:10,currentUser:2})}}function te(e){let t,n=e[0][0]+"";return{c(){t=f(n)},m(e,n){c(e,t,n)},p(e,r){1&r&&n!==(n=e[0][0]+"")&&y(t,n)},d(e){e&&i(t)}}}function ne(e){let t,n,r;return{c(){t=p("svg"),n=p("path"),w(n,"stroke-linecap","round"),w(n,"stroke-linejoin","round"),w(n,"stroke-width","2"),w(n,"d","M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"class",r=`h-4 w-4 ${e[1]||"text-gray-500"}`),w(t,"fill","none"),w(t,"viewBox","0 0 24 24"),w(t,"stroke","currentColor")},m(e,r){c(e,t,r),l(t,n)},p(e,n){2&n&&r!==(r=`h-4 w-4 ${e[1]||"text-gray-500"}`)&&w(t,"class",r)},d(e){e&&i(t)}}}function re(e){let t,n,r;return{c(){t=p("svg"),n=p("path"),w(n,"fill-rule","evenodd"),w(n,"d","M1 2.5C1 1.67 1.68 1 2.5 1h11c.83 0 1.5.68 1.5 1.5v11c0 .83-.68 1.5-1.5 1.5h-11c-.83 0-1.5-.68-1.5-1.5v-11zm2 0c0 .27.22.5.5.5h3c.28 0 .5-.22.5-.5 0-.27-.22-.5-.5-.5h-3c-.28 0-.5.22-.5.5zm6 0c0 .27.22.5.5.5h3c.28 0 .5-.22.5-.5 0-.27-.22-.5-.5-.5h-3c-.28 0-.5.22-.5.5zm-3.8 9.05c-.53 0-.87-.3-.87-.78v-.1c0-.1-.08-.2-.2-.2H3.2c-.1 0-.2.1-.2.2v.1c0 1.15.98 2.06 2.2 2.06 1.2 0 2.17-.9 2.17-2.06 0-.52-.23-1.06-.62-1.36-.05-.04-.05-.1 0-.16.3-.3.52-.76.52-1.23 0-1.1-.93-1.97-2.08-1.97-1.16 0-2.1.88-2.1 1.98v.15c0 .1.08.2.18.2h.95c.1 0 .2-.1.2-.2V8c0-.42.32-.7.76-.7s.75.28.75.7c0 .44-.3.72-.76.72h-.13c-.1 0-.2.1-.2.2v.88c0 .1.1.18.2.18h.12c.5 0 .84.3.84.8 0 .47-.34.77-.85.77zm5.5 1.25c0 .1.1.2.22.2h1.03c.1 0 .2-.1.2-.2V6.2c0-.1-.1-.2-.2-.2H10.8c-.27 0-.44.14-.53.24l-.85.96c-.15.15-.17.28-.17.44v.96c0 .2.23.28.35.16l.9-.84c.07-.06.2-.05.2.08v4.8z"),w(t,"viewBox","0 0 16 16"),w(t,"class",r=`h-4 w-4 ${e[1]||"text-gray-500"}`),w(t,"fill","currentColor")},m(e,r){c(e,t,r),l(t,n)},p(e,n){2&n&&r!==(r=`h-4 w-4 ${e[1]||"text-gray-500"}`)&&w(t,"class",r)},d(e){e&&i(t)}}}function oe(e){let t,n,r;return{c(){t=p("svg"),n=p("path"),w(n,"fill-rule","evenodd"),w(n,"d","M1 4.003A3.002 3.002 0 0 1 4.003 1h7.994A3.002 3.002 0 0 1 15 4.003v7.994A3.002 3.002 0 0 1 11.997 15H4.003A3.002 3.002 0 0 1 1 11.997V4.003zm5.28 7.42c.41.368 1.064.35 1.454-.035l4.67-4.606c.515-.508.52-1.331.012-1.84l.062.063a1.27 1.27 0 0 0-1.817.008l-3.298 3.42a.505.505 0 0 1-.707.014l-1.162-1.08a1.36 1.36 0 0 0-1.872.036l.063-.062A1.225 1.225 0 0 0 3.73 9.13l2.55 2.293z"),w(t,"viewBox","0 0 16 16"),w(t,"class",r=`h-4 w-4 ${e[1]||"text-gray-500"}`),w(t,"fill","currentColor")},m(e,r){c(e,t,r),l(t,n)},p(e,n){2&n&&r!==(r=`h-4 w-4 ${e[1]||"text-gray-500"}`)&&w(t,"class",r)},d(e){e&&i(t)}}}function ae(e){let t,n,r;return{c(){t=p("svg"),n=p("path"),w(n,"fill-rule","evenodd"),w(n,"d","M4,10 L4,6.06298828 L2.01023277,6.06298828 C1.44124014,6.06298828 0.979980469,5.60514432 0.979980469,5.03149414 C0.979980469,4.46181566 1.446147,4 2.01023277,4 L4,4 L4,2.04301188 C4,1.50175979 4.43942184,1.06298828 4.98999023,1.06298828 C5.53674674,1.06298828 5.97998047,1.51091265 5.97998047,2.04301188 L5.97998047,4 L10.0200195,4 L10.0200195,2.04301188 C10.0200195,1.50175979 10.4594414,1.06298828 11.0100098,1.06298828 C11.5567663,1.06298828 12,1.51091265 12,2.04301188 L12,4 L13.9605924,4 C14.5295851,4 14.9908447,4.45784396 14.9908447,5.03149414 C14.9908447,5.60117262 14.5246782,6.06298828 13.9605924,6.06298828 L12,6.06298828 L12,10 L13.9605924,10 C14.5295851,10 14.9908447,10.457844 14.9908447,11.0314941 C14.9908447,11.6011726 14.5246782,12.0629883 13.9605924,12.0629883 L12,12.0629883 L12,14.0199764 C12,14.5612285 11.5605782,15 11.0100098,15 C10.4632533,15 10.0200195,14.5520756 10.0200195,14.0199764 L10.0200195,12.0629883 L5.97998047,12.0629883 L5.97998047,14.0199764 C5.97998047,14.5612285 5.54055863,15 4.98999023,15 C4.44323373,15 4,14.5520756 4,14.0199764 L4,12.0629883 L2.01023277,12.0629883 C1.44124014,12.0629883 0.979980469,11.6051443 0.979980469,11.0314941 C0.979980469,10.4618157 1.446147,10 2.01023277,10 L4,10 Z M5.97998047,10 L10.0200195,10 L10.0200195,6.06298828 L5.97998047,6.06298828 L5.97998047,10 Z"),w(t,"viewBox","0 0 16 16"),w(t,"class",r=`h-4 w-4 ${e[1]||"text-gray-500"}`),w(t,"fill","currentColor")},m(e,r){c(e,t,r),l(t,n)},p(e,n){2&n&&r!==(r=`h-4 w-4 ${e[1]||"text-gray-500"}`)&&w(t,"class",r)},d(e){e&&i(t)}}}function se(e){let t,n,r;return{c(){t=p("svg"),n=p("path"),w(n,"fill-rule","evenodd"),w(n,"d","M2.554 12.615L6.628 2.429C6.834 1.916 7.448 1.5 8 1.5c.556 0 1.166.416 1.372.93l4.074 10.185c.306.765-.116 1.385-.944 1.385h-.252a1.1 1.1 0 0 1-.987-.711l-.526-1.578c-.13-.39-.577-.711-.996-.711H6.259c-.43 0-.865.318-.996.711l-.526 1.578c-.13.39-.573.711-.987.711h-.252c-.828 0-1.25-.62-.944-1.385zM6.371 8.07c-.205.513.072.929.638.929h1.982c.557 0 .845-.41.637-.929L8.556 5.393c-.308-.77-.806-.77-1.114 0L6.372 8.07z"),w(t,"viewBox","0 0 16 16"),w(t,"class",r=`h-4 w-4 ${e[1]||"text-gray-500"}`),w(t,"fill","currentColor")},m(e,r){c(e,t,r),l(t,n)},p(e,n){2&n&&r!==(r=`h-4 w-4 ${e[1]||"text-gray-500"}`)&&w(t,"class",r)},d(e){e&&i(t)}}}function le(t){let n;function r(e,t){return"String"==e[0]?se:"Number"==e[0]?ae:"Boolean"==e[0]?oe:"Date"==e[0]?re:"Mixed"==e[0]?ne:te}let o=r(t),a=o(t);return{c(){n=d("span"),a.c(),w(n,"class","mr-3")},m(e,t){c(e,n,t),a.m(n,null)},p(e,[t]){o===(o=r(e))&&a?a.p(e,t):(a.d(1),a=o(e),a&&(a.c(),a.m(n,null)))},i:e,o:e,d(e){e&&i(n),a.d()}}}function ce(e,t,n){let{type:r}=t,{color:o}=t;return e.$$set=e=>{"type"in e&&n(0,r=e.type),"color"in e&&n(1,o=e.color)},[r,o]}class ie extends G{constructor(e){super(),V(this,e,ce,le,a,{type:0,color:1})}}function ue(e,t,n){const r=e.slice();return r[29]=t[n],r}function de(e){let t,n,r,o,a=e[29].name+"",s=e[29].owner==e[3].username&&fe(e);return{c(){t=d("span"),n=f(a),r=g(),s&&s.c(),o=m(),w(t,"class","text-gray-900 text-base font-medium flex-grow")},m(e,a){c(e,t,a),l(t,n),c(e,r,a),s&&s.m(e,a),c(e,o,a)},p(e,t){1&t[0]&&a!==(a=e[29].name+"")&&y(n,a),e[29].owner==e[3].username?s?s.p(e,t):(s=fe(e),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(e){e&&i(t),e&&i(r),s&&s.d(e),e&&i(o)}}}function pe(e){let t,n,r,o,a,s,u,f;function m(){return e[16](e[29])}return{c(){t=d("input"),o=g(),a=p("svg"),s=p("path"),w(t,"id",n=e[29].name.replace(/ /g,"-")),w(t,"class","focus:outline-none apperance-none bg-gray-200 flex-grow"),t.value=r=e[29].name,w(s,"stroke-linecap","round"),w(s,"stroke-linejoin","round"),w(s,"stroke-width","2"),w(s,"d","M5 13l4 4L19 7"),w(a,"class","cursor-pointer h-3 w-3 text-gray-900 ml-2"),w(a,"xmlns","http://www.w3.org/2000/svg"),w(a,"fill","none"),w(a,"viewBox","0 0 24 24"),w(a,"stroke","currentColor")},m(e,n){c(e,t,n),c(e,o,n),c(e,a,n),l(a,s),u||(f=h(a,"click",m),u=!0)},p(o,a){e=o,1&a[0]&&n!==(n=e[29].name.replace(/ /g,"-"))&&w(t,"id",n),1&a[0]&&r!==(r=e[29].name)&&t.value!==r&&(t.value=r)},d(e){e&&i(t),e&&i(o),e&&i(a),u=!1,f()}}}function fe(e){let t,n,r,o;function a(){return e[17](e[29])}return{c(){t=p("svg"),n=p("path"),w(n,"stroke-linecap","round"),w(n,"stroke-linejoin","round"),w(n,"stroke-width","2"),w(n,"d","M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"),w(t,"class","cursor-pointer h-3 w-3 text-gray-900 ml-2"),w(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"fill","none"),w(t,"viewBox","0 0 24 24"),w(t,"stroke","currentColor")},m(e,s){c(e,t,s),l(t,n),r||(o=h(t,"click",a),r=!0)},p(t,n){e=t},d(e){e&&i(t),r=!1,o()}}}function ge(e){let t,n,r=(e[29].default||"Set Default")+"";return{c(){t=d("span"),n=f(r)},m(e,r){c(e,t,r),l(t,n)},p(e,t){1&t[0]&&r!==(r=(e[29].default||"Set Default")+"")&&y(n,r)},d(e){e&&i(t)}}}function me(e){let t,n,r,o,a,s,u,f;function m(){return e[19](e[29])}return{c(){t=d("input"),o=g(),a=p("svg"),s=p("path"),w(t,"id",n=`default-${e[29].name.replace(/ /g,"-")}`),w(t,"class","focus:outline-none apperance-none bg-white rounded-sm flex-grow"),t.value=r=e[29].default,w(s,"stroke-linecap","round"),w(s,"stroke-linejoin","round"),w(s,"stroke-width","2"),w(s,"d","M5 13l4 4L19 7"),w(a,"class","cursor-pointer h-3 w-3 text-gray-900 ml-2"),w(a,"xmlns","http://www.w3.org/2000/svg"),w(a,"fill","none"),w(a,"viewBox","0 0 24 24"),w(a,"stroke","currentColor")},m(e,n){c(e,t,n),c(e,o,n),c(e,a,n),l(a,s),u||(f=h(a,"click",m),u=!0)},p(o,a){e=o,1&a[0]&&n!==(n=`default-${e[29].name.replace(/ /g,"-")}`)&&w(t,"id",n),1&a[0]&&r!==(r=e[29].default)&&t.value!==r&&(t.value=r)},d(e){e&&i(t),e&&i(o),e&&i(a),u=!1,f()}}}function he(e){let t,n,o,a,s,u,m,y,x,b,v,$,k,C,j,L,T,U,D,M,S,_,N,A,B,z,E,F,I,V,G,Z,Y,K,Q,R,W,X,ee,te,ne,re,oe,ae;function se(e,t){return e[4]==e[29].name?pe:de}o=new ie({props:{type:e[29].type}});let le=se(e),ce=le(e);function ue(){return e[18](e[29])}function fe(e,t){return e[6]?me:ge}let he=fe(e),we=he(e);function ye(){return e[20](e[29])}function xe(){return e[21](e[29])}function be(){return e[22](e[29])}function ve(){return e[23](e[29])}function $e(){return e[24](e[29])}function ke(){return e[25](e[29])}return U=new ie({props:{type:"String",color:"String"==e[29].type?"text-white":"text-gray-400"}}),N=new ie({props:{type:"Number",color:"Number"==e[29].type?"text-white":"text-gray-400"}}),F=new ie({props:{type:"Boolean",color:"Boolean"==e[29].type?"text-white":"text-gray-400"}}),Y=new ie({props:{type:"Date",color:"Date"==e[29].type?"text-white":"text-gray-400"}}),X=new ie({props:{type:"Mixed",color:"Mixed"==e[29].type?"text-white":"text-gray-400"}}),{c(){t=d("th"),n=d("div"),P(o.$$.fragment),a=g(),ce.c(),s=g(),u=d("div"),m=d("ul"),y=d("li"),y.innerHTML='<svg class="text-white h-4 w-4 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>\n                Edit Field Name',x=g(),b=d("li"),v=p("svg"),$=p("path"),k=p("path"),C=g(),we.c(),L=g(),T=d("li"),P(U.$$.fragment),D=f("\n                String"),S=g(),_=d("li"),P(N.$$.fragment),A=f("\n                Number"),z=g(),E=d("li"),P(F.$$.fragment),I=f("\n                Boolean"),G=g(),Z=d("li"),P(Y.$$.fragment),K=f("\n                Date"),R=g(),W=d("li"),P(X.$$.fragment),ee=f("\n                Mixed"),w(n,"class","flex items-center"),w(y,"class","rounded-sm p-2 cursor-pointer hover:bg-gray-500 flex items-center text-white text-sm font-medium"),w($,"stroke-linecap","round"),w($,"stroke-linejoin","round"),w($,"stroke-width","2"),w($,"d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"),w(k,"stroke-linecap","round"),w(k,"stroke-linejoin","round"),w(k,"stroke-width","2"),w(k,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),w(v,"class","h-4 w-4 mr-3"),w(v,"xmlns","http://www.w3.org/2000/svg"),w(v,"fill","none"),w(v,"viewBox","0 0 24 24"),w(v,"stroke","currentColor"),w(b,"class",j=`rounded-sm p-2 cursor-pointer hover:bg-gray-500 flex items-center ${e[29].default?"text-white":"text-gray-400"} text-sm font-medium`),w(T,"class",M=`rounded-sm p-2 cursor-pointer hover:bg-gray-500 flex items-center ${"String"==e[29].type?"text-white":"text-gray-400"} text-sm font-medium`),w(_,"class",B=`rounded-sm p-2 cursor-pointer hover:bg-gray-500 flex items-center ${"Number"==e[29].type?"text-white":"text-gray-400"} text-sm font-medium`),w(E,"class",V=`rounded-sm p-2 cursor-pointer hover:bg-gray-500 flex items-center ${"Boolean"==e[29].type?"text-white":"text-gray-400"} text-sm font-medium`),w(Z,"class",Q=`rounded-sm p-2 cursor-pointer hover:bg-gray-500 flex items-center ${"Date"==e[29].type?"text-white":"text-gray-400"} text-sm font-medium`),w(W,"class",te=`rounded-sm p-2 cursor-pointer hover:bg-gray-500 flex items-center ${"Mixed"==e[29].type?"text-white":"text-gray-400"} text-sm font-medium`),w(u,"class",ne="flex flex-col absolute z-10 mt-4 p-2 bg-gray-700 rounded-md "+(e[5]==e[29].name?"":"hidden")),w(t,"class","p-2 bg-gray-200 border-l border-r border-gray-400 text-left")},m(e,r){c(e,t,r),l(t,n),J(o,n,null),l(n,a),ce.m(n,null),l(t,s),l(t,u),l(u,m),l(m,y),l(m,x),l(m,b),l(b,v),l(v,$),l(v,k),l(b,C),we.m(b,null),l(m,L),l(m,T),J(U,T,null),l(T,D),l(m,S),l(m,_),J(N,_,null),l(_,A),l(m,z),l(m,E),J(F,E,null),l(E,I),l(m,G),l(m,Z),J(Y,Z,null),l(Z,K),l(m,R),l(m,W),J(X,W,null),l(W,ee),re=!0,oe||(ae=[h(y,"click",ue),h(b,"click",ye),h(T,"click",xe),h(_,"click",be),h(E,"click",ve),h(Z,"click",$e),h(W,"click",ke)],oe=!0)},p(t,r){e=t;const a={};1&r[0]&&(a.type=e[29].type),o.$set(a),le===(le=se(e))&&ce?ce.p(e,r):(ce.d(1),ce=le(e),ce&&(ce.c(),ce.m(n,null))),he===(he=fe(e))&&we?we.p(e,r):(we.d(1),we=he(e),we&&(we.c(),we.m(b,null))),(!re||1&r[0]&&j!==(j=`rounded-sm p-2 cursor-pointer hover:bg-gray-500 flex items-center ${e[29].default?"text-white":"text-gray-400"} text-sm font-medium`))&&w(b,"class",j);const s={};1&r[0]&&(s.color="String"==e[29].type?"text-white":"text-gray-400"),U.$set(s),(!re||1&r[0]&&M!==(M=`rounded-sm p-2 cursor-pointer hover:bg-gray-500 flex items-center ${"String"==e[29].type?"text-white":"text-gray-400"} text-sm font-medium`))&&w(T,"class",M);const l={};1&r[0]&&(l.color="Number"==e[29].type?"text-white":"text-gray-400"),N.$set(l),(!re||1&r[0]&&B!==(B=`rounded-sm p-2 cursor-pointer hover:bg-gray-500 flex items-center ${"Number"==e[29].type?"text-white":"text-gray-400"} text-sm font-medium`))&&w(_,"class",B);const c={};1&r[0]&&(c.color="Boolean"==e[29].type?"text-white":"text-gray-400"),F.$set(c),(!re||1&r[0]&&V!==(V=`rounded-sm p-2 cursor-pointer hover:bg-gray-500 flex items-center ${"Boolean"==e[29].type?"text-white":"text-gray-400"} text-sm font-medium`))&&w(E,"class",V);const i={};1&r[0]&&(i.color="Date"==e[29].type?"text-white":"text-gray-400"),Y.$set(i),(!re||1&r[0]&&Q!==(Q=`rounded-sm p-2 cursor-pointer hover:bg-gray-500 flex items-center ${"Date"==e[29].type?"text-white":"text-gray-400"} text-sm font-medium`))&&w(Z,"class",Q);const d={};1&r[0]&&(d.color="Mixed"==e[29].type?"text-white":"text-gray-400"),X.$set(d),(!re||1&r[0]&&te!==(te=`rounded-sm p-2 cursor-pointer hover:bg-gray-500 flex items-center ${"Mixed"==e[29].type?"text-white":"text-gray-400"} text-sm font-medium`))&&w(W,"class",te),(!re||33&r[0]&&ne!==(ne="flex flex-col absolute z-10 mt-4 p-2 bg-gray-700 rounded-md "+(e[5]==e[29].name?"":"hidden")))&&w(u,"class",ne)},i(e){re||(O(o.$$.fragment,e),O(U.$$.fragment,e),O(N.$$.fragment,e),O(F.$$.fragment,e),O(Y.$$.fragment,e),O(X.$$.fragment,e),re=!0)},o(e){H(o.$$.fragment,e),H(U.$$.fragment,e),H(N.$$.fragment,e),H(F.$$.fragment,e),H(Y.$$.fragment,e),H(X.$$.fragment,e),re=!1},d(e){e&&i(t),q(o),ce.d(),we.d(),q(U),q(N),q(F),q(Y),q(X),oe=!1,r(ae)}}}function we(e){let t,n,o,a,s,p,f,m,y,x,b,v=e[0],$=[];for(let t=0;t<v.length;t+=1)$[t]=he(ue(e,v,t));const k=e=>H($[e],1,1,(()=>{$[e]=null}));return{c(){t=d("thead"),n=d("tr"),o=d("th"),o.innerHTML='<span class="text-gray-900 text-base font-medium">id</span>',a=g();for(let e=0;e<$.length;e+=1)$[e].c();s=g(),p=d("th"),f=d("span"),f.textContent="+",w(o,"class","p-2 bg-gray-200 border-l border-r border-gray-400 text-left bg-gray-200"),w(f,"class","text-gray-900 text-base font-medium px-4"),w(p,"class",m=(e[0][0].owner==e[3].username?"":"hidden")+" p-2 bg-gray-200 border-l border-r border-gray-400 text-center cursor-pointer"),w(n,"class",""),w(t,"class","justify-between sticky top-0 border-b-4 border-gray-300")},m(r,i){c(r,t,i),l(t,n),l(n,o),l(n,a);for(let e=0;e<$.length;e+=1)$[e].m(n,null);l(n,s),l(n,p),l(p,f),y=!0,x||(b=[h(p,"mouseover",e[26]),h(p,"mouseout",e[27]),h(p,"click",e[28])],x=!0)},p(e,t){if(4089&t[0]){let r;for(v=e[0],r=0;r<v.length;r+=1){const o=ue(e,v,r);$[r]?($[r].p(o,t),O($[r],1)):($[r]=he(o),$[r].c(),O($[r],1),$[r].m(n,s))}for(z(),r=v.length;r<$.length;r+=1)k(r);E()}(!y||9&t[0]&&m!==(m=(e[0][0].owner==e[3].username?"":"hidden")+" p-2 bg-gray-200 border-l border-r border-gray-400 text-center cursor-pointer"))&&w(p,"class",m)},i(e){if(!y){for(let e=0;e<v.length;e+=1)O($[e]);y=!0}},o(e){$=$.filter(Boolean);for(let e=0;e<$.length;e+=1)H($[e]);y=!1},d(e){e&&i(t),u($,e),x=!1,r(b)}}}function ye(e,t,n){let r,o,a,{headers:s}=t,{activeTable:l}=t,{hoverNewField:c}=t,{dataTables:i}=t,{fetchData:u}=t,{displayedData:d}=t,{currentUser:p}=t;const f=e=>{n(5,o=o==e?"":e)},g=e=>{n(4,r=e);let t=e.replace(/ /g,"-");setTimeout((()=>{document.querySelector(`#${t}`).focus()}),10)},m=async(e,t)=>{let o=e.replace(/ /g,"-"),a=document.querySelector(`#${o}`).value;await fetch(`/api/database/${l.replace(/ /g,"-")}/${t}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:a})}),n(4,r="");const c=await fetch("api/database");let p=await c.json();n(13,i=p);let f=i.filter((e=>e.name==l))[0];f?(n(0,s=f.props),n(0,s=s.map((e=>(e.owner=f.owner,e))))):n(0,s=[]);const g=await u(l);p=await g.json(),n(14,d=p)},h=async(e,t)=>{let r=e.replace(/ /g,"-"),c=document.querySelector(`#default-${r}`).value;await fetch(`/api/database/${l.replace(/ /g,"-")}/${t}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({default:c})}),n(6,a=""),n(5,o="");const p=await fetch("api/database");let f=await p.json();n(13,i=f);let g=i.filter((e=>e.name==l))[0];g?(n(0,s=g.props),n(0,s=s.map((e=>(e.owner=g.owner,e))))):n(0,s=[]);const m=await u(l);f=await m.json(),n(14,d=f)},w=async(e,t,r)=>{await fetch(`/api/database/${l.replace(/ /g,"-")}/${t}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({type:r})}),n(5,o="");const a=await fetch("api/database");let c=await a.json();n(13,i=c);let p=i.filter((e=>e.name==l))[0];p?(n(0,s=p.props),n(0,s=s.map((e=>(e.owner=p.owner,e))))):n(0,s=[]);const f=await u(l);c=await f.json(),n(14,d=c)},y=async e=>{const t="column"+Math.floor(Math.random()*Math.floor(100));await fetch(`/api/database/${e}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({props:{name:t,type:"String"}})});const r=await fetch("api/database");let o=await r.json();n(13,i=o);let a=i.filter((t=>t.name==e))[0];a?(n(0,s=a.props),n(0,s=s.map((e=>(e.owner=a.owner,e))))):n(0,s=[])};return e.$$set=e=>{"headers"in e&&n(0,s=e.headers),"activeTable"in e&&n(2,l=e.activeTable),"hoverNewField"in e&&n(1,c=e.hoverNewField),"dataTables"in e&&n(13,i=e.dataTables),"fetchData"in e&&n(15,u=e.fetchData),"displayedData"in e&&n(14,d=e.displayedData),"currentUser"in e&&n(3,p=e.currentUser)},[s,c,l,p,r,o,a,f,g,m,h,w,y,i,d,u,e=>m(e.name,e._id),e=>f(e.name),e=>g(e.name),e=>h(e.name,e._id),e=>n(6,a=e.name),e=>w(e.name,e._id,"String"),e=>w(e.name,e._id,"Number"),e=>w(e.name,e._id,"Boolean"),e=>w(e.name,e._id,"Date"),e=>w(e.name,e._id,"Mixed"),()=>n(1,c=!0),()=>n(1,c=!1),()=>y(l)]}class xe extends G{constructor(e){super(),V(this,e,ye,we,a,{headers:0,activeTable:2,hoverNewField:1,dataTables:13,fetchData:15,displayedData:14,currentUser:3},[-1,-1])}}const be=(e,t)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length)return"";if(1===e.length)return t.pascalCase?e.toLocaleUpperCase(t.locale):e.toLocaleLowerCase(t.locale);return e!==e.toLocaleLowerCase(t.locale)&&(e=((e,t)=>{let n=!1,r=!1,o=!1;for(let a=0;a<e.length;a++){const s=e[a];n&&/[\p{Lu}]/u.test(s)?(e=e.slice(0,a)+"-"+e.slice(a),n=!1,o=r,r=!0,a++):r&&o&&/[\p{Ll}]/u.test(s)?(e=e.slice(0,a-1)+"-"+e.slice(a-1),o=r,r=!1,n=!0):(n=s.toLocaleLowerCase(t)===s&&s.toLocaleUpperCase(t)!==s,o=r,r=s.toLocaleUpperCase(t)===s&&s.toLocaleLowerCase(t)!==s)}return e})(e,t.locale)),e=e.replace(/^[_.\- ]+/,""),e=t.preserveConsecutiveUppercase?(e=>e.replace(/^[\p{Lu}](?![\p{Lu}])/gu,(e=>e.toLowerCase())))(e):e.toLocaleLowerCase(),t.pascalCase&&(e=e.charAt(0).toLocaleUpperCase(t.locale)+e.slice(1)),((e,t)=>e.replace(/[_.\- ]+([\p{Alpha}\p{N}_]|$)/gu,((e,n)=>n.toLocaleUpperCase(t.locale))).replace(/\d+([\p{Alpha}\p{N}_]|$)/gu,(e=>e.toLocaleUpperCase(t.locale))))(e,t)};var ve=be,$e=be;function ke(t){let n,r,o,a,s,u,p,f,m,y;return{c(){n=d("div"),r=d("div"),o=d("input"),a=g(),s=d("input"),u=g(),p=d("div"),p.textContent="Log In",w(o,"id","username"),w(o,"class"," bg-green-200 apperance-none border-green-600 border rounded-lg focus:outline-none ring-green-600 text-green-600 ring-4 ring-opacity-0 focus:ring-opacity-80 p-2"),w(o,"placeholder","username"),w(o,"type","text"),w(s,"id","password"),w(s,"class","bg-green-200 apperance-none border-green-600 border rounded-lg focus:outline-none ring-green-600 text-green-600 ring-4 ring-opacity-0 focus:ring-opacity-80 p-2"),w(s,"placeholder","password"),w(s,"type","password"),w(p,"class","bg-green-600 border-4 border-green-600 hover:bg-green-200 hover:text-green-600 text-white text-xl font-semibold p-2 rounded-lg w-full flex items-center justify-center cursor-pointer"),w(r,"class","flex-col space-y-6 border-4 border-green-600 rounded-lg bg-green-200 p-12 flex items-center justify-center"),w(n,"class",f=(t[0]?"hidden":"")+" z-30 fixed w-screen h-screen bg-green-200 flex items-center justify-center")},m(e,i){c(e,n,i),l(n,r),l(r,o),l(r,a),l(r,s),l(r,u),l(r,p),m||(y=h(p,"click",t[1]),m=!0)},p(e,[t]){1&t&&f!==(f=(e[0]?"hidden":"")+" z-30 fixed w-screen h-screen bg-green-200 flex items-center justify-center")&&w(n,"class",f)},i:e,o:e,d(e){e&&i(n),m=!1,y()}}}function Ce(e,t,n){let{loggedin:r}=t,{currentUser:o}=t,{checkUser:a}=t,{loadData:s}=t;return e.$$set=e=>{"loggedin"in e&&n(0,r=e.loggedin),"currentUser"in e&&n(2,o=e.currentUser),"checkUser"in e&&n(3,a=e.checkUser),"loadData"in e&&n(4,s=e.loadData)},[r,async()=>{let e=await fetch("/api/users/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:document.querySelector("#username").value,password:document.querySelector("#password").value})});if(e=await e.json(),console.log(e),e.message)return void console.log(e.message);window.sessionStorage.setItem("api_key",e.token);let t=await a();t=await t.json(),console.log(t),t.username&&(n(2,o=t),n(0,r=!0),s())},o,a,s]}ve.default=$e;class je extends G{constructor(e){super(),V(this,e,Ce,ke,a,{loggedin:0,currentUser:2,checkUser:3,loadData:4})}}function Le(e,t,n){const r=e.slice();return r[24]=t[n],r}function Te(e,t,n){const r=e.slice();return r[27]=t[n],r}function Ue(e,t,n){const r=e.slice();return r[24]=t[n],r}function De(t){let n,r,o,a,s,u,p,f,m,y;return{c(){n=d("div"),r=d("div"),o=d("p"),o.textContent="You don't have any fields yet! Get Cooking!",a=g(),s=d("div"),s.textContent="Create First Field",u=g(),p=d("img"),w(o,"class","text-3xl w-96 my-12 text-center font-semibold"),w(s,"class","bg-green-200 text-gray-900 font-semibold text-lg p-2 flex items-center justify-center rounded-lg cursor-pointer transform duration-150 shadow-md hover:-translate-y-1 hover:shadow-lg"),w(r,"class","flex flex-col absolute -ml-48"),w(p,"class","h-3/4 object-scale"),p.src!==(f="./empty.png")&&w(p,"src","./empty.png"),w(n,"class","w-3/4 h-full flex items-center justify-center")},m(e,i){c(e,n,i),l(n,r),l(r,o),l(r,a),l(r,s),l(n,u),l(n,p),m||(y=h(s,"click",t[12]),m=!0)},p:e,i:e,o:e,d(e){e&&i(n),m=!1,y()}}}function Me(e){let t,n,r,o,a,s,p,f,m,y,x,b,v,$,C,j,L,T,U,M;function S(t){e[18](t)}function _(t){e[19](t)}function N(t){e[20](t)}function A(t){e[21](t)}function B(t){e[22](t)}let z={currentUser:e[6],fetchData:e[9]};void 0!==e[4]&&(z.hoverNewField=e[4]),void 0!==e[2]&&(z.headers=e[2]),void 0!==e[3]&&(z.activeTable=e[3]),void 0!==e[0]&&(z.dataTables=e[0]),void 0!==e[1]&&(z.displayedData=e[1]),n=new xe({props:z}),k.push((()=>F(n,"hoverNewField",S))),k.push((()=>F(n,"headers",_))),k.push((()=>F(n,"activeTable",N))),k.push((()=>F(n,"dataTables",A))),k.push((()=>F(n,"displayedData",B)));let E=e[1],I=[];for(let t=0;t<E.length;t+=1)I[t]=Ae(Te(e,E,t));let V=e[2],G=[];for(let t=0;t<V.length;t+=1)G[t]=Be(Le(e,V,t));return{c(){t=d("table"),P(n.$$.fragment),f=g(),m=d("tbody");for(let e=0;e<I.length;e+=1)I[e].c();y=g(),x=d("tr"),b=d("td"),b.innerHTML='<span class="text-center ml-2 text-base">+</span>',v=g();for(let e=0;e<G.length;e+=1)G[e].c();$=g(),C=d("td"),j=d("span"),w(b,"class","border border-gray-300 text-left"),w(j,"class","text-center ml-2 text-base"),w(C,"class",L="border border-gray-300 text-left "+(e[4]?"":"hidden")),w(x,"class","bg-white hover:bg-gray-100 cursor-pointer"),w(m,"class","bg-gray-200"),w(t,"class","min-w-full")},m(r,o){c(r,t,o),J(n,t,null),l(t,f),l(t,m);for(let e=0;e<I.length;e+=1)I[e].m(m,null);l(m,y),l(m,x),l(x,b),l(x,v);for(let e=0;e<G.length;e+=1)G[e].m(x,null);l(x,$),l(x,C),l(C,j),T=!0,U||(M=h(x,"click",e[11]),U=!0)},p(e,t){const l={};if(64&t[0]&&(l.currentUser=e[6]),!r&&16&t[0]&&(r=!0,l.hoverNewField=e[4],D((()=>r=!1))),!o&&4&t[0]&&(o=!0,l.headers=e[2],D((()=>o=!1))),!a&&8&t[0]&&(a=!0,l.activeTable=e[3],D((()=>a=!1))),!s&&1&t[0]&&(s=!0,l.dataTables=e[0],D((()=>s=!1))),!p&&2&t[0]&&(p=!0,l.displayedData=e[1],D((()=>p=!1))),n.$set(l),1046&t[0]){let n;for(E=e[1],n=0;n<E.length;n+=1){const r=Te(e,E,n);I[n]?I[n].p(r,t):(I[n]=Ae(r),I[n].c(),I[n].m(m,y))}for(;n<I.length;n+=1)I[n].d(1);I.length=E.length}if(4&t[0]){const t=V.length;let n;for(V=e[2],n=t;n<V.length;n+=1)Le(e,V,n),G[n]||(G[n]=Be(),G[n].c(),G[n].m(x,$));for(n=V.length;n<t;n+=1)G[n].d(1);G.length=V.length}(!T||16&t[0]&&L!==(L="border border-gray-300 text-left "+(e[4]?"":"hidden")))&&w(C,"class",L)},i(e){T||(O(n.$$.fragment,e),T=!0)},o(e){H(n.$$.fragment,e),T=!1},d(e){e&&i(t),q(n),u(I,e),u(G,e),U=!1,M()}}}function Se(e){let t,n,r,o;function a(){return e[23](e[24],e[27])}return{c(){t=d("input"),w(t,"class","apperance-none focus:outline-none"),t.value=n=e[27][ve(e[24].name.toLowerCase())]||""},m(e,n){c(e,t,n),r||(o=h(t,"keyup",a),r=!0)},p(r,o){e=r,6&o[0]&&n!==(n=e[27][ve(e[24].name.toLowerCase())]||"")&&t.value!==n&&(t.value=n)},d(e){e&&i(t),r=!1,o()}}}function _e(t){let n;return{c(){n=f("************")},m(e,t){c(e,n,t)},p:e,d(e){e&&i(n)}}}function Ne(e){let t,n;function r(e,t){return e[24].bcrypt?_e:Se}let o=r(e),a=o(e);return{c(){t=d("td"),n=d("span"),a.c(),w(n,"class","text-center ml-2 text-base"),w(t,"class","border border-gray-300 text-left")},m(e,r){c(e,t,r),l(t,n),a.m(n,null)},p(e,t){o===(o=r(e))&&a?a.p(e,t):(a.d(1),a=o(e),a&&(a.c(),a.m(n,null)))},d(e){e&&i(t),a.d()}}}function Ae(e){let t,n,r,o,a,s,p,m,h,x=e[27]._id+"",b=e[2],v=[];for(let t=0;t<b.length;t+=1)v[t]=Ne(Ue(e,b,t));return{c(){t=d("tr"),n=d("td"),r=d("span"),o=f(x),a=g();for(let e=0;e<v.length;e+=1)v[e].c();s=g(),p=d("td"),m=d("span"),w(r,"class","text-center ml-2 text-base"),w(n,"class","bg-white border border-gray-300 text-left"),w(m,"class","text-center ml-2 text-base"),w(p,"class",h="border border-gray-300 text-left "+(e[4]?"":"hidden")),w(t,"class","bg-white")},m(e,i){c(e,t,i),l(t,n),l(n,r),l(r,o),l(t,a);for(let e=0;e<v.length;e+=1)v[e].m(t,null);l(t,s),l(t,p),l(p,m)},p(e,n){if(2&n[0]&&x!==(x=e[27]._id+"")&&y(o,x),1030&n[0]){let r;for(b=e[2],r=0;r<b.length;r+=1){const o=Ue(e,b,r);v[r]?v[r].p(o,n):(v[r]=Ne(o),v[r].c(),v[r].m(t,s))}for(;r<v.length;r+=1)v[r].d(1);v.length=b.length}16&n[0]&&h!==(h="border border-gray-300 text-left "+(e[4]?"":"hidden"))&&w(p,"class",h)},d(e){e&&i(t),u(v,e)}}}function Be(e){let t;return{c(){t=d("td"),t.innerHTML='<span class="text-center ml-2 text-base"></span>',w(t,"class","border border-gray-300 text-left")},m(e,n){c(e,t,n)},d(e){e&&i(t)}}}function ze(e){let t,n,r,o,a,s,u,p,f,m,h,y,x,b,v,$;function C(t){e[13](t)}function j(t){e[14](t)}let L={loadData:e[8],checkUser:e[7]};function T(t){e[15](t)}function U(t){e[16](t)}function M(t){e[17](t)}void 0!==e[6]&&(L.currentUser=e[6]),void 0!==e[5]&&(L.loggedin=e[5]),o=new je({props:L}),k.push((()=>F(o,"currentUser",C))),k.push((()=>F(o,"loggedin",j)));let S={currentUser:e[6],dataTables:e[0],fetchData:e[9]};void 0!==e[3]&&(S.activeTable=e[3]),void 0!==e[2]&&(S.headers=e[2]),void 0!==e[1]&&(S.displayedData=e[1]),p=new ee({props:S}),k.push((()=>F(p,"activeTable",T))),k.push((()=>F(p,"headers",U))),k.push((()=>F(p,"displayedData",M)));const _=[Me,De],N=[];function A(e,t){return e[2].length>0?0:1}return b=A(e),v=N[b]=_[b](e),{c(){t=d("link"),n=g(),r=d("body"),P(o.$$.fragment),u=g(),P(p.$$.fragment),y=g(),x=d("div"),v.c(),w(t,"href","https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css"),w(t,"rel","stylesheet"),w(x,"class","w-screen h-full flex justify-center overflow-x-scroll"),w(r,"class","h-screen")},m(e,a){c(e,t,a),c(e,n,a),c(e,r,a),J(o,r,null),l(r,u),J(p,r,null),l(r,y),l(r,x),N[b].m(x,null),$=!0},p(e,t){const n={};!a&&64&t[0]&&(a=!0,n.currentUser=e[6],D((()=>a=!1))),!s&&32&t[0]&&(s=!0,n.loggedin=e[5],D((()=>s=!1))),o.$set(n);const r={};64&t[0]&&(r.currentUser=e[6]),1&t[0]&&(r.dataTables=e[0]),!f&&8&t[0]&&(f=!0,r.activeTable=e[3],D((()=>f=!1))),!m&&4&t[0]&&(m=!0,r.headers=e[2],D((()=>m=!1))),!h&&2&t[0]&&(h=!0,r.displayedData=e[1],D((()=>h=!1))),p.$set(r);let l=b;b=A(e),b===l?N[b].p(e,t):(z(),H(N[l],1,1,(()=>{N[l]=null})),E(),v=N[b],v?v.p(e,t):(v=N[b]=_[b](e),v.c()),O(v,1),v.m(x,null))},i(e){$||(O(o.$$.fragment,e),O(p.$$.fragment,e),O(v),$=!0)},o(e){H(o.$$.fragment,e),H(p.$$.fragment,e),H(v),$=!1},d(e){e&&i(t),e&&i(n),e&&i(r),q(o),q(p),N[b].d()}}}function Ee(e,t,n){let r,o,a=[],s=[],l=[],c=!1,i=!1;const u=async()=>await fetch("/api/users",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",token:window.sessionStorage.getItem("api_key")}}),d=async()=>{const e=await fetch("api/database");let t=await e.json();n(0,a=t),n(3,r=a[1].name),n(2,l=a[1].props),n(2,l=l.map((e=>(e.owner=a[1].owner,e))));const o=await p(a[1].name.replace(/ /g,"-"));t=await o.json(),n(1,s=t),console.log(t),console.log(a)};v((async function(){if(!window.sessionStorage.getItem("api_key"))return!1;let e=await u();e=await e.json(),console.log(e),e.username&&(n(6,o=e),n(5,i=!0),d())}));const p=async e=>fetch(`api/${e}`),f=async(e,t)=>{console.log(t),await fetch(`/api/${r.replace(/ /g,"-")}/${t}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({[ve(e)]:event.target.value})});const o=await p(r.replace(/ /g,"-"));let c=await o.json();n(1,s=c);let i=a.filter((e=>e.name==r))[0];i?(n(2,l=i.props),n(2,l=l.map((e=>(e.owner=i.owner,e))))):n(2,l=[])};return[a,s,l,r,c,i,o,u,d,p,f,async()=>{console.log(r.replace(/ /g,"-")),await fetch(`/api/${r.replace(/ /g,"-")}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({})});const e=await p(r.replace(/ /g,"-"));let t=await e.json();n(1,s=t);let o=a.filter((e=>e.name==r))[0];o?(n(2,l=o.props),n(2,l=l.map((e=>(e.owner=o.owner,e))))):n(2,l=[]),console.log(s)},async()=>{await fetch(`/api/database/${r.replace(/ /g,"-")}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({props:{name:"Awesome column",type:"String"}})});const e=await fetch("api/database");let t=await e.json();n(0,a=t);let o=a.filter((e=>e.name==r))[0];o?(n(2,l=o.props),n(2,l=l.map((e=>(e.owner=o.owner,e))))):n(2,l=[])},function(e){o=e,n(6,o)},function(e){i=e,n(5,i)},function(e){r=e,n(3,r)},function(e){l=e,n(2,l)},function(e){s=e,n(1,s)},function(e){c=e,n(4,c)},function(e){l=e,n(2,l)},function(e){r=e,n(3,r)},function(e){a=e,n(0,a)},function(e){s=e,n(1,s)},(e,t)=>f(e.name,t._id)]}return new class extends G{constructor(e){super(),V(this,e,Ee,ze,a,{},[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
